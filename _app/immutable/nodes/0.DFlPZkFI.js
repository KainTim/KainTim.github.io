import{l as de,d as ee,f as b,e as Oe,a as h,c as Te,s as J}from"../chunks/qsjj-_BR.js";import{a as te}from"../chunks/05zyj1Cr.js";import{v as Fe,a6 as Ce,D as je,_ as Me,U as Ae,h as U,A as Le,aF as Ne,u as ve,r as ue,p as H,a0 as fe,i as _,a1 as M,a as P,k as d,l as c,a2 as Ie,j as s,s as j,f,d as Ee}from"../chunks/BOOBJ6gn.js";import{t as Be,a as $,s as O,R as se}from"../chunks/DgYw66Ob.js";import{p as T,i as R}from"../chunks/DSh7sEGW.js";import{r as _e,s as K}from"../chunks/BmQQ_5LG.js";import{i as ne,c as ie,r as ce}from"../chunks/DgurLFuQ.js";import{b as I}from"../chunks/e4egWqlV.js";import{e as me,i as he}from"../chunks/uhJyW_1i.js";import{C as De}from"../chunks/Bv_lvPSb.js";function Re(e,t,...n){var i=e,o=Me,r;Fe(()=>{o!==(o=t())&&(r&&(Ae(r),r=null),r=je(()=>o(i,...n)))},Ce),U&&(i=Le)}function Je(e,t,n,i){var o=e.__style;if(U||o!==t){var r=Be(t);(!U||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=t}return i}function Ue(e,t,n=t){var i=Ne();de(e,"input",o=>{var r=o?e.defaultValue:e.value;if(r=X(e)?Z(r):r,n(r),i&&r!==(r=t())){var v=e.selectionStart,u=e.selectionEnd;e.value=r??"",u!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(u,e.value.length))}}),(U&&e.defaultValue!==e.value||ve(t)==null&&e.value)&&n(X(e)?Z(e.value):e.value),ue(()=>{var o=t();X(e)&&o===Z(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function He(e,t,n=t){de(e,"change",i=>{var o=i?e.defaultChecked:e.checked;n(o)}),(U&&e.defaultChecked!==e.checked||ve(t)==null)&&n(e.checked),ue(()=>{var i=t();e.checked=!!i})}function X(e){var t=e.type;return t==="number"||t==="range"}function Z(e){return e===""?null:+e}const Pe=!0,pt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pe},Symbol.toStringTag,{value:"Module"}));var ze=(e,t)=>t.onFocused(),Ge=b(`<div><span class="mr-2 font-medium text-blue-800 select-none">Ortssuche:</span> <input type="text" list="locations" class="flex-grow bg-blue-50 border border-transparent rounded-md px-3 py-1.5 text-blue-900 placeholder-blue-400
            focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition" placeholder="Ort eingeben..."/></div>`);function Ke(e,t){H(t,!0);let n=T(t,"locations",15),i=T(t,"searchText",15);fe(async()=>{i()&&n((await o(i())).results)});async function o(u){return(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${u}&count=5&language=de&format=json`)).json()}te(()=>{i("")});var r=Ge(),v=_(d(r),2);_e(v),v.__keydown=[ze,t],c(r),M(()=>$(r,1,`${t.style} flex items-center bg-blue-50 border border-blue-600 rounded-lg px-3 py-2 max-w-md`)),Oe("focus",v,()=>t.onFocused()),Ue(v,i),h(e,r),P()}ee(["keydown"]);var Ve=(e,t,n)=>t.onSelect(s(n)),Ye=()=>{},qe=(e,t,n)=>t.onSelect(s(n)),Qe=b('<div class="flex justify-between min-w-sm max-w-screen mt-2 bg-blue-100 p-1 rounded-sm cursor-pointer" role="button" tabindex="0"><p class="mr-25 my-auto ml-2"> </p> <button class="rounded-md bg-cyan-50 border-2 border-cyan-300 p-0.5 text-xl self-end cursor-pointer mb-auto mt-auto">Select</button></div>');function We(e,t){H(t,!0);var n=Te(),i=Ie(n);me(i,17,()=>t.locations,he,(o,r)=>{var v=Qe();v.__click=[Ve,t,r],v.__keydown=[Ye];var u=d(v),y=d(u);c(u);var m=_(u,2);m.__click=[qe,t,r],c(v),M(()=>J(y,`${s(r).name??""}, ${s(r).admin1??""} ${s(r).admin3?"(":""}${s(r).admin3??""}${s(r).admin3?")":""} | ${s(r).country_code??""}`)),h(o,v)}),h(e,n),P()}ee(["click","keydown"]);var Xe=b(`<a class="rounded-md bg-white border-2 border-gray-400 px-4 py-2 ml-2 text-2xl font-semibold text-gray-700 
         hover:bg-gray-100 hover:border-gray-600 transition-colors duration-200 cursor-pointer select-none"> </a>`);function E(e,t){var n=Xe(),i=d(n,!0);c(n),M(()=>{K(n,"href",t.href),J(i,t.text)}),h(e,n)}var Ze=b('<div class="flex items-center w-40"><label class="flex items-center cursor-pointer"><div class="relative"><input type="checkbox" class="sr-only"/> <div></div> <div></div></div> <div class="ml-3 text-gray-700"> </div></label></div>');function $e(e,t){H(t,!0);let n=T(t,"value",15),i=T(t,"labelOff",3,"Imperical"),o=T(t,"labelOn",3,"Metric");var r=Ze(),v=d(r),u=d(v),y=d(u);_e(y);var m=_(y,2),w=_(m,2);c(u);var k=_(u,2),A=d(k,!0);c(k),c(v),c(r),M(()=>{$(m,1,`block w-14 h-8 rounded-full bg-gray-300 transition-colors duration-200 ${n()?"!bg-sky-300":""}`),$(w,1,`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-200 ${n()?"transform translate-x-6":""}`),J(A,n()?o():i())}),He(y,n),h(e,r),P()}var et=b('<a class="flex items-center space-x-2 bg-blue-100 p-2 rounded-md cursor-pointer hover:bg-blue-200 transition-colors duration-150" target="_blank"><p> </p> <img class="w-8 h-8"/></a>'),tt=b('<nav class="flex space-x-4"></nav>'),rt=b('<footer class="bg-white border-t border-gray-200 mt-12 text-sm text-gray-600"><div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-4"><!> <p class="text-center md:text-left text-lg"> </p> <!></div></footer>');function at(e,t){H(t,!0);let n=T(t,"year",19,()=>new Date().getFullYear()),i=T(t,"author",3,"Name"),o=T(t,"links",19,()=>[]),r=j(!0);fe(()=>{localStorage.setItem("isMetricUnits",JSON.stringify(s(r))),ne.set(O(s(r)))}),te(()=>{const g=localStorage.getItem("isMetricUnits");g&&(f(r,JSON.parse(g),!0),ne.set(O(s(r))))});var v=rt(),u=d(v),y=d(u);$e(y,{get value(){return s(r)},set value(g){f(r,g,!0)}});var m=_(y,2),w=d(m);c(m);var k=_(m,2);{var A=g=>{var F=tt();me(F,21,o,he,(z,L)=>{let V=()=>s(L).href,B=()=>s(L).label,Y=()=>s(L).logo;var C=et(),N=d(C),q=d(N,!0);c(N);var G=_(N,2);c(C),M(()=>{K(C,"href",V()),J(q,B()),K(G,"src",Y()),K(G,"alt",`Logo for ${B()??""}`)}),h(z,C)}),c(F),h(g,F)};R(k,g=>{o().length>0&&g(A)})}c(u),c(v),M(()=>J(w,`Â© ${n()??""} ${i()??""}. Alle Rechte vorbehalten.`)),h(e,v),P()}var ot=(e,t)=>f(t,!s(t)),lt=b('<hr class="my-2"/>'),st=b('<hr class="my-2"/>'),nt=b('<div class="bg-gray-200 shadow-md p-2"><div class="md:hidden flex flex-col gap-y-2 items-center "><!> <!> <!></div> <!> <!></div>'),it=b('<div class="relative"><!> <div class="pt-10"><!></div></div>'),ct=b('<div class="mt-5"><!></div>'),dt=b('<div class="flex flex-col min-h-screen transition-colors duration-300 ease-in-out"><div class="flex justify-center w-full bg-gray-100 rounded-b-sm shadow-md"><div class="flex flex-wrap flex-col p-2 "><div class="flex flex-wrap justify-center gap-x-5 w-full items-center"><div class="hidden md:flex flex-wrap flex-row"><!> <!> <!></div> <!> <button class="md:hidden text-black focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="hidden md:block"><!> <!></div></div></div> <!> <div class="flex justify-center p-3"><div class="block"><!></div></div> <footer class="mt-auto"><!></footer></div>');function wt(e,t){H(t,!0);let n=j(!1),i=j(Ee([])),o=j(void 0),r=j(""),v=j(!1),u=j("lightgray");function y(){f(n,!0)}function m(l){var a=JSON.parse(localStorage.getItem("lastSelectedList"));a||(a=[]);var x=a.indexOf(a.find(p=>p.id===l.id));x>=0&&a.splice(x,1),a.unshift(l),a=a.slice(0,4);for(let p=0;p<a.length;p++)a[p].isSelected=!1;a[0].isSelected=!0,f(o,a,!0);const S=O(s(o));localStorage.setItem("lastSelectedList",JSON.stringify(S)),ce.set(S),ie.set(l),f(n,!1),f(r,""),f(v,!1)}ie.subscribe(async l=>{if(f(n,!1),f(r,""),f(v,!1),!l||!l.latitude||!l.longitude)return;let a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${l.latitude}&longitude=${l.longitude}&current=weather_code`)).json();a.current.weather_code===0?f(u,"#87CEEB"):a.current.weather_code>=1&&a.current.weather_code<=3?f(u,"#B0C4DE"):a.current.weather_code>=4&&a.current.weather_code<=6?f(u,"#A9A9A9"):a.current.weather_code>=7&&a.current.weather_code<=9?f(u,"#778899"):a.current.weather_code>=10&&a.current.weather_code<=17?f(u,"#708090"):a.current.weather_code>=18&&a.current.weather_code<=29?f(u,"#F0F8FF"):f(u,"#D3D3D3")}),te(()=>{f(o,JSON.parse(localStorage.getItem("lastSelectedList")),!0),s(o)&&s(o).length>0?m(O(s(o)[0])):navigator.geolocation.getCurrentPosition(l=>{const a={name:"Aktueller Standort",latitude:l.coords.latitude,longitude:l.coords.longitude,isSelected:!0};m(O(a))},l=>{console.error("Geolocation error:",l)})}),ce.subscribe(l=>{f(o,l,!0)});var w=dt(),k=d(w),A=d(k),g=d(A),F=d(g),z=d(F);E(z,{href:`${I??""}/`,text:"Home"});var L=_(z,2);E(L,{href:`${I??""}/forecast`,text:"3 Tagesausblick"});var V=_(L,2);E(V,{href:`${I??""}/locations`,text:"Orte"}),c(F);var B=_(F,2);Ke(B,{style:"mt-auto mb-auto",onFocused:y,get locations(){return s(i)},set locations(l){f(i,l,!0)},get searchText(){return s(r)},set searchText(l){f(r,l,!0)}});var Y=_(B,2);Y.__click=[ot,v],c(g);var C=_(g,2),N=d(C);{var q=l=>{var a=lt();h(l,a)};R(N,l=>{s(o)&&s(o).length>0&&l(q)})}var G=_(N,2);se(G,{get locations(){return s(o)},onSelect:l=>m(O(l))}),c(C),c(A),c(k);var re=_(k,2);{var be=l=>{var a=nt(),x=d(a),S=d(x);E(S,{href:`${I??""}/`,text:"Home"});var p=_(S,2);E(p,{href:`${I??""}/forecast`,text:"3 Tagesausblick"});var W=_(p,2);E(W,{href:`${I??""}/locations`,text:"Orte"}),c(x);var le=_(x,2);{var we=D=>{var Se=st();h(D,Se)};R(le,D=>{s(o)&&s(o).length>0&&D(we)})}var ke=_(le,2);se(ke,{get locations(){return s(o)},onSelect:D=>m(O(D))}),c(a),h(l,a)};R(re,l=>{s(v)&&!(s(n)&&s(i)&&s(i).length>0)&&l(be)})}var Q=_(re,2),ae=d(Q),ge=d(ae);{var xe=l=>{var a=it(),x=d(a);De(x,{onclick:()=>{f(n,!1),f(r,"")}});var S=_(x,2),p=d(S);We(p,{get locations(){return s(i)},onSelect:W=>m(O(W))}),c(S),c(a),h(l,a)},ye=l=>{var a=ct(),x=d(a);Re(x,()=>t.children),c(a),h(l,a)};R(ge,l=>{s(n)&&s(i)&&s(i).length>0?l(xe):l(ye,!1)})}c(ae),c(Q);var oe=_(Q,2),pe=d(oe);at(pe,{author:"Tim Kainz",year:"2025",links:[{href:"https://github.com/KainTim",label:"GitHub",logo:"images/github-mark.svg"}]}),c(oe),c(w),M(()=>Je(w,`background-color: ${s(u)??""};`)),h(e,w),P()}ee(["click"]);export{wt as component,pt as universal};
