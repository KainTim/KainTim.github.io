import{l as de,d as ee,f as b,e as Oe,a as m,s as P}from"../chunks/-IGDMShe.js";import{a as te}from"../chunks/CXIUv3Zp.js";import{x as Te,a7 as Fe,F as Ce,$ as je,V as Ee,h as J,C as Ie,aF as Me,u as ve,r as ue,p as U,a1 as fe,i as _,a2 as E,a as K,f as v,s as O,k as u,l as d,j as l,a3 as Ne,d as Ae}from"../chunks/CHEiSg6U.js";import{s as T}from"../chunks/qfjVf3oj.js";import{p as F,i as B}from"../chunks/B6-AiG01.js";import{t as Le,s as H,R as se}from"../chunks/Du7K4iET.js";import{r as _e,s as G}from"../chunks/BqBqd16w.js";import{i as ne,c as ie,r as ce}from"../chunks/Dj8NwYVE.js";import{b as A}from"../chunks/TlI8B8mz.js";import{e as he,i as ge}from"../chunks/BpqQ1ULl.js";import{C as Be}from"../chunks/BUp8G6bi.js";function De(e,t,...n){var c=e,r=je,s;Te(()=>{r!==(r=t())&&(s&&(Ee(s),s=null),s=Ce(()=>r(c,...n)))},Fe),J&&(c=Ie)}function Re(e,t,n,c){var r=e.__style;if(J||r!==t){var s=Le(t);(!J||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}return c}function Pe(e,t,n=t){var c=Me();de(e,"input",r=>{var s=r?e.defaultValue:e.value;if(s=Z(e)?$(s):s,n(s),c&&s!==(s=t())){var f=e.selectionStart,i=e.selectionEnd;e.value=s??"",i!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(i,e.value.length))}}),(J&&e.defaultValue!==e.value||ve(t)==null&&e.value)&&n(Z(e)?$(e.value):e.value),ue(()=>{var r=t();Z(e)&&r===$(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Je(e,t,n=t){de(e,"change",c=>{var r=c?e.defaultChecked:e.checked;n(r)}),(J&&e.defaultChecked!==e.checked||ve(t)==null)&&n(e.checked),ue(()=>{var c=t();e.checked=!!c})}function Z(e){var t=e.type;return t==="number"||t==="range"}function $(e){return e===""?null:+e}const Ue=!0,kt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ue},Symbol.toStringTag,{value:"Module"}));var Ke=(e,t)=>t.onFocused(),Ve=b('<div><span class="mr-2 font-medium text-blue-800 select-none">Ortssuche:</span> <input type="text" list="locations" placeholder="Ort eingeben..."/></div>');function ze(e,t){U(t,!0);let n=F(t,"locations",15),c=F(t,"searchText",15),r=O(!1);fe(async()=>{c()&&n((await s(c())).results)});async function s(g){try{const h=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${g}&count=5&language=de&format=json`);return h.ok?(v(r,!1),await h.json()):(v(r,!0),{})}catch{return v(r,!0),{}}}te(()=>{c("")});var f=Ve(),i=_(u(f),2);_e(i),i.__keydown=[Ke,t],d(f),E(()=>{H(f,1,`${t.style} flex items-center bg-blue-50 border border-blue-600 rounded-lg px-3 py-2 max-w-md`),H(i,1,`flex-grow ${l(r)?"bg-red-200 focus:ring-red-600":"bg-blue-50 focus:ring-blue-600"} border border-transparent rounded-md px-3 py-1.5 text-blue-900 placeholder-blue-400
            focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition`)}),Oe("focus",i,()=>t.onFocused()),Pe(i,c),m(e,f),K()}ee(["keydown"]);var Ge=b('<p class="text-gray-500">Keine Orte gefunden. Bitte geben Sie einen Suchbegriff ein.</p>'),He=(e,t,n)=>t.onSelect(l(n)),Ye=()=>{},qe=(e,t,n)=>t.onSelect(l(n)),Qe=b('<div class="flex justify-between min-w-sm max-w-screen mt-2 bg-blue-100 p-1 rounded-sm cursor-pointer" role="button" tabindex="0"><p class="mr-20 my-auto ml-2"> </p> <button class="rounded-md p-0.5 text-xl self-end cursor-pointer mb-auto mt-auto">Select</button></div>'),We=b("<!> <!>",1);function Xe(e,t){U(t,!0);var n=We(),c=Ne(n);{var r=f=>{var i=Ge();m(f,i)};B(c,f=>{t.locations.length===0&&f(r)})}var s=_(c,2);he(s,17,()=>t.locations,ge,(f,i)=>{var g=Qe();g.__click=[He,t,i],g.__keydown=[Ye];var h=u(g),p=u(h);d(h);var w=_(h,2);w.__click=[qe,t,i],d(g),E(()=>P(p,`${l(i).name??""}, ${l(i).admin1??""} ${l(i).admin3?"(":""}${l(i).admin3??""}${l(i).admin3?")":""} | ${l(i).country_code??""}`)),m(f,g)}),m(e,n),K()}ee(["click","keydown"]);var Ze=b(`<a class="rounded-md bg-white border-2 border-gray-400 px-4 py-2 ml-2 text-2xl font-semibold text-gray-700 
         hover:bg-gray-100 hover:border-gray-600 transition-colors duration-200 cursor-pointer select-none"> </a>`);function L(e,t){var n=Ze(),c=u(n,!0);d(n),E(()=>{G(n,"href",t.href),P(c,t.text)}),m(e,n)}var $e=b('<div class="flex items-center w-40"><label class="flex items-center cursor-pointer"><div class="relative"><input type="checkbox" class="sr-only"/> <div></div> <div></div></div> <div class="ml-3 text-gray-700"> </div></label></div>');function et(e,t){U(t,!0);let n=F(t,"value",15),c=F(t,"labelOff",3,"Imperical"),r=F(t,"labelOn",3,"Metric");var s=$e(),f=u(s),i=u(f),g=u(i);_e(g);var h=_(g,2),p=_(h,2);d(i);var w=_(i,2),I=u(w,!0);d(w),d(f),d(s),E(()=>{H(h,1,`block w-14 h-8 rounded-full bg-gray-300 transition-colors duration-200 ${n()?"!bg-sky-300":""}`),H(p,1,`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-200 ${n()?"transform translate-x-6":""}`),P(I,n()?r():c())}),Je(g,n),m(e,s),K()}var tt=b('<a class="flex items-center space-x-2 bg-blue-100 p-2 rounded-md cursor-pointer hover:bg-blue-200 transition-colors duration-150" target="_blank"><p> </p> <img class="w-8 h-8"/></a>'),rt=b('<nav class="flex space-x-4"></nav>'),at=b('<footer class="bg-white border-t border-gray-200 mt-12 text-sm text-gray-600"><div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-4"><!> <p class="text-center md:text-left text-lg"> </p> <!></div></footer>');function ot(e,t){U(t,!0);let n=F(t,"year",19,()=>new Date().getFullYear()),c=F(t,"author",3,"Name"),r=F(t,"links",19,()=>[]),s=O(!0);fe(()=>{localStorage.setItem("isMetricUnits",JSON.stringify(l(s))),ne.set(T(l(s)))}),te(()=>{const x=localStorage.getItem("isMetricUnits");x&&(v(s,JSON.parse(x),!0),ne.set(T(l(s))))});var f=at(),i=u(f),g=u(i);et(g,{get value(){return l(s)},set value(x){v(s,x,!0)}});var h=_(g,2),p=u(h);d(h);var w=_(h,2);{var I=x=>{var C=rt();he(C,21,r,ge,(V,M)=>{let Y=()=>l(M).href,D=()=>l(M).label,q=()=>l(M).logo;var j=tt(),N=u(j),Q=u(N,!0);d(N);var z=_(N,2);d(j),E(()=>{G(j,"href",Y()),P(Q,D()),G(z,"src",q()),G(z,"alt",`Logo for ${D()??""}`)}),m(V,j)}),d(C),m(x,C)};B(w,x=>{r().length>0&&x(I)})}d(i),d(f),E(()=>P(p,`Â© ${n()??""} ${c()??""}. Alle Rechte vorbehalten.`)),m(e,f),K()}var lt=(e,t)=>v(t,!l(t)),st=b('<hr class="my-2"/>'),nt=b('<hr class="my-2"/>'),it=b('<div class="bg-gray-200 shadow-md p-2"><div class="md:hidden flex flex-col gap-y-2 items-center "><!> <!> <!></div> <!> <!></div>'),ct=b('<div class="relative"><!> <div class="pt-10"><!></div></div>'),dt=b('<div class="mt-5"><!></div>'),vt=b('<div class="flex flex-col min-h-screen transition-colors duration-300 ease-in-out"><div class="flex justify-center w-full bg-gray-100 rounded-b-sm shadow-md"><div class="flex flex-wrap flex-col p-2 "><div class="flex flex-wrap justify-center gap-x-5 w-full items-center"><div class="hidden md:flex flex-wrap flex-row"><!> <!> <!></div> <!> <button class="md:hidden text-black focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="hidden md:block"><!> <!></div></div></div> <!> <div class="flex justify-center p-3"><div class="block"><!></div></div> <footer class="mt-auto"><!></footer></div>');function St(e,t){U(t,!0);let n=O(!1),c=O(Ae([])),r=O(void 0),s=O(""),f=O(!1),i=O("lightgray");function g(){v(n,!0)}function h(o){var a=JSON.parse(localStorage.getItem("lastSelectedList"));a||(a=[]);var y=a.indexOf(a.find(k=>k.id===o.id));y>=0&&a.splice(y,1),a.unshift(o),a=a.slice(0,4);for(let k=0;k<a.length;k++)a[k].isSelected=!1;a[0].isSelected=!0,v(r,a,!0);const S=T(l(r));localStorage.setItem("lastSelectedList",JSON.stringify(S)),ce.set(S),ie.set(o),v(n,!1),console.log("clearing search Text in selectLocation"),v(s,""),v(f,!1)}ie.subscribe(async o=>{if(v(n,!1),console.log("clearing in locationStore subscribe"),v(s,""),v(f,!1),!o||!o.latitude||!o.longitude)return;let a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${o.latitude}&longitude=${o.longitude}&current=weather_code`)).json();a.current.weather_code===0?v(i,"#87CEEB"):a.current.weather_code>=1&&a.current.weather_code<=3?v(i,"#B0C4DE"):a.current.weather_code>=4&&a.current.weather_code<=6?v(i,"#A9A9A9"):a.current.weather_code>=7&&a.current.weather_code<=9?v(i,"#778899"):a.current.weather_code>=10&&a.current.weather_code<=17?v(i,"#708090"):a.current.weather_code>=18&&a.current.weather_code<=29?v(i,"#F0F8FF"):v(i,"#D3D3D3")}),te(()=>{v(r,JSON.parse(localStorage.getItem("lastSelectedList")),!0),l(r)&&l(r).length>0?h(T(l(r)[0])):navigator.geolocation.getCurrentPosition(o=>{const a={name:"Aktueller Standort",latitude:o.coords.latitude,longitude:o.coords.longitude,isSelected:!0};h(T(a))},o=>{o.code===o.PERMISSION_DENIED?alert("Please select a location manually or allow location access in your browser settings."):alert("Unable to retrieve your location. Please try again later.")})}),ce.subscribe(o=>{v(r,o,!0)});var p=vt(),w=u(p),I=u(w),x=u(I),C=u(x),V=u(C);L(V,{href:`${A??""}/`,text:"Aktuell"});var M=_(V,2);L(M,{href:`${A??""}/forecast`,text:"3 Tagesausblick"});var Y=_(M,2);L(Y,{href:`${A??""}/locations`,text:"Orte"}),d(C);var D=_(C,2);ze(D,{style:"mt-auto mb-auto",onFocused:g,get locations(){return l(c)},set locations(o){v(c,o,!0)},get searchText(){return l(s)},set searchText(o){v(s,o,!0)}});var q=_(D,2);q.__click=[lt,f],d(x);var j=_(x,2),N=u(j);{var Q=o=>{var a=st();m(o,a)};B(N,o=>{l(r)&&l(r).length>0&&o(Q)})}var z=_(N,2);se(z,{get locations(){return l(r)},onSelect:o=>h(T(o))}),d(j),d(I),d(w);var re=_(w,2);{var me=o=>{var a=it(),y=u(a),S=u(y);L(S,{href:`${A??""}/`,text:"Aktuell"});var k=_(S,2);L(k,{href:`${A??""}/forecast`,text:"3 Tagesausblick"});var X=_(k,2);L(X,{href:`${A??""}/locations`,text:"Orte"}),d(y);var le=_(y,2);{var we=R=>{var Se=nt();m(R,Se)};B(le,R=>{l(r)&&l(r).length>0&&R(we)})}var ke=_(le,2);se(ke,{get locations(){return l(r)},onSelect:R=>h(T(R))}),d(a),m(o,a)};B(re,o=>{l(f)&&!(l(n)&&l(c)&&l(c).length>0)&&o(me)})}var W=_(re,2),ae=u(W),be=u(ae);{var xe=o=>{var a=ct(),y=u(a);Be(y,{onclick:()=>{v(n,!1),console.log("clearing search Text in close button"),v(s,"")}});var S=_(y,2),k=u(S);Xe(k,{get locations(){return l(c)},onSelect:X=>h(T(X))}),d(S),d(a),m(o,a)},ye=o=>{var a=dt(),y=u(a);De(y,()=>t.children),d(a),m(o,a)};B(be,o=>{l(n)&&l(c)&&l(c).length>0?o(xe):o(ye,!1)})}d(ae),d(W);var oe=_(W,2),pe=u(oe);ot(pe,{author:"Tim Kainz",year:"2025",links:[{href:"https://github.com/KainTim",label:"GitHub",logo:"images/github-mark.svg"}]}),d(oe),d(p),E(()=>Re(p,`background-color: ${l(i)??""};`)),m(e,p),K()}ee(["click"]);export{St as component,kt as universal};
