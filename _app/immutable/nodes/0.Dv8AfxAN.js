import{l as be,d as X,f as h,e as xe,a as m,c as ye,s as z}from"../chunks/BND21E-R.js";import{o as se}from"../chunks/bUh0lCUw.js";import{v as pe,a6 as we,D as ke,_ as Se,U as Fe,h as G,A as Te,aF as je,u as Ae,r as Ce,p as K,a0 as Le,i as _,a3 as L,a as V,j as d,l as c,a4 as Oe,k as l,s as T,d as Ee,f as v}from"../chunks/BA5rt8da.js";import{t as Ne,a as De,R as re,s as j}from"../chunks/DjyfjvDH.js";import{p as B,i as R}from"../chunks/CGi2M537.js";import{r as Ie,s as P}from"../chunks/DrTpaf12.js";import{c as ae,r as oe}from"../chunks/rPfhh50W.js";import{b as A}from"../chunks/C26Wq8-K.js";import{e as le,i as ne}from"../chunks/DG1IfMfI.js";import{C as Me}from"../chunks/DVoVpDG0.js";function Re(e,t,...n){var i=e,s=Se,r;pe(()=>{s!==(s=t())&&(r&&(Fe(r),r=null),r=ke(()=>s(i,...n)))},we),G&&(i=Te)}function Be(e,t,n,i){var s=e.__style;if(G||s!==t){var r=Ne(t);(!G||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=t}return i}function He(e,t,n=t){var i=je();be(e,"input",s=>{var r=s?e.defaultValue:e.value;if(r=Q(e)?W(r):r,n(r),i&&r!==(r=t())){var f=e.selectionStart,u=e.selectionEnd;e.value=r??"",u!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(u,e.value.length))}}),(G&&e.defaultValue!==e.value||Ae(t)==null&&e.value)&&n(Q(e)?W(e.value):e.value),Ce(()=>{var s=t();Q(e)&&s===W(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Q(e){var t=e.type;return t==="number"||t==="range"}function W(e){return e===""?null:+e}const Je=!0,gt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Je},Symbol.toStringTag,{value:"Module"}));var Pe=(e,t)=>t.onFocused(),ze=h(`<div><span class="mr-2 font-medium text-blue-800 select-none">Ortssuche:</span> <input type="text" list="locations" class="flex-grow bg-blue-50 border border-transparent rounded-md px-3 py-1.5 text-blue-900 placeholder-blue-400
            focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition" placeholder="Ort eingeben..."/></div>`);function Ge(e,t){K(t,!0);let n=B(t,"locations",15),i=B(t,"searchText",15);Le(async()=>{i()&&n((await s(i())).results)});async function s(u){return(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${u}&count=5&language=de&format=json`)).json()}se(()=>{i("")});var r=ze(),f=_(d(r),2);Ie(f),f.__keydown=[Pe,t],c(r),L(()=>De(r,1,`${t.style} flex items-center bg-blue-50 border border-blue-600 rounded-lg px-3 py-2 max-w-md`)),xe("focus",f,()=>t.onFocused()),He(f,i),m(e,r),V()}X(["keydown"]);var Ke=(e,t,n)=>t.onSelect(l(n)),Ve=()=>{},Ue=(e,t,n)=>t.onSelect(l(n)),Ye=h('<div class="flex justify-between min-w-sm max-w-screen mt-2 bg-blue-100 p-1 rounded-sm cursor-pointer" role="button" tabindex="0"><p class="mr-25 my-auto ml-2"> </p> <button class="rounded-md bg-cyan-50 border-2 border-cyan-300 p-0.5 text-xl self-end cursor-pointer mb-auto mt-auto">Select</button></div>');function qe(e,t){K(t,!0);var n=ye(),i=Oe(n);le(i,17,()=>t.locations,ne,(s,r)=>{var f=Ye();f.__click=[Ke,t,r],f.__keydown=[Ve];var u=d(f),O=d(u);c(u);var x=_(u,2);x.__click=[Ue,t,r],c(f),L(()=>z(O,`${l(r).name??""}, ${l(r).admin1??""} ${l(r).admin3?"(":""}${l(r).admin3??""}${l(r).admin3?")":""} | ${l(r).country_code??""}`)),m(s,f)}),m(e,n),V()}X(["click","keydown"]);var Qe=h(`<a class="rounded-md bg-white border-2 border-gray-400 px-4 py-2 ml-2 text-2xl font-semibold text-gray-700 
         hover:bg-gray-100 hover:border-gray-600 transition-colors duration-200 cursor-pointer select-none"> </a>`);function C(e,t){var n=Qe(),i=d(n,!0);c(n),L(()=>{P(n,"href",t.href),z(i,t.text)}),m(e,n)}var We=h('<a class="flex items-center space-x-2 bg-blue-100 p-2 rounded-md cursor-pointer hover:bg-blue-200 transition-colors duration-150" target="_blank"><p> </p> <img class="w-8 h-8"/></a>'),Xe=h('<nav class="flex space-x-4"></nav>'),Ze=h('<footer class="bg-white border-t border-gray-200 mt-12 text-sm text-gray-600"><div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-4"><p class="text-center md:text-left text-lg"> </p> <!></div></footer>');function $e(e,t){K(t,!0);let n=B(t,"year",19,()=>new Date().getFullYear()),i=B(t,"author",3,"Dein Name"),s=B(t,"links",19,()=>[]);var r=Ze(),f=d(r),u=d(f),O=d(u);c(u);var x=_(u,2);{var S=p=>{var F=Xe();le(F,21,s,ne,(E,w)=>{let H=()=>l(w).href,N=()=>l(w).label,U=()=>l(w).logo;var k=We(),D=d(k),J=d(D,!0);c(D);var I=_(D,2);c(k),L(()=>{P(k,"href",H()),z(J,N()),P(I,"src",U()),P(I,"alt",`Logo for ${N()??""}`)}),m(E,k)}),c(F),m(p,F)};R(x,p=>{s().length>0&&p(S)})}c(f),c(r),L(()=>z(O,`Â© ${n()??""} ${i()??""}. Alle Rechte vorbehalten.`)),m(e,r),V()}var et=(e,t)=>v(t,!l(t)),tt=h('<hr class="my-2"/>'),rt=h('<hr class="my-2"/>'),at=h('<div class="bg-gray-200 shadow-md p-2"><div class="md:hidden flex flex-col gap-y-2 items-center "><!> <!> <!></div> <!> <!></div>'),ot=h('<div class="relative"><!> <div class="pt-10"><!></div></div>'),st=h('<div class="mt-5"><!></div>'),lt=h('<div class="flex flex-col min-h-screen transition-colors duration-300 ease-in-out"><div class="flex justify-center w-full bg-gray-100 rounded-b-sm shadow-md"><div class="flex flex-wrap flex-col p-2 "><div class="flex flex-wrap justify-center gap-x-5 w-full items-center"><div class="hidden md:flex flex-wrap flex-row"><!> <!> <!></div> <!> <button class="md:hidden text-black focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="hidden md:block"><!> <!></div></div></div> <!> <div class="flex justify-center p-3"><div class="block"><!></div></div> <footer class="mt-auto"><!></footer></div>');function bt(e,t){K(t,!0);let n=T(!1),i=T(Ee([])),s=T(void 0),r=T(""),f=T(!1),u=T("lightgray");function O(){v(n,!0)}function x(o){var a=JSON.parse(localStorage.getItem("lastSelectedList"));a||(a=[]);var g=a.indexOf(a.find(b=>b.id===o.id));g>=0&&a.splice(g,1),a.unshift(o),a=a.slice(0,4);for(let b=0;b<a.length;b++)a[b].isSelected=!1;a[0].isSelected=!0,v(s,a,!0);const y=j(l(s));localStorage.setItem("lastSelectedList",JSON.stringify(y)),oe.set(y),ae.set(o),v(n,!1),v(r,""),v(f,!1)}ae.subscribe(async o=>{if(v(n,!1),v(r,""),v(f,!1),!o||!o.latitude||!o.longitude)return;let a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${o.latitude}&longitude=${o.longitude}&current=weather_code`)).json();a.current.weather_code===0?v(u,"#87CEEB"):a.current.weather_code>=1&&a.current.weather_code<=3?v(u,"#B0C4DE"):a.current.weather_code>=4&&a.current.weather_code<=6?v(u,"#A9A9A9"):a.current.weather_code>=7&&a.current.weather_code<=9?v(u,"#778899"):a.current.weather_code>=10&&a.current.weather_code<=17?v(u,"#708090"):a.current.weather_code>=18&&a.current.weather_code<=29?v(u,"#F0F8FF"):v(u,"#D3D3D3")}),se(()=>{v(s,JSON.parse(localStorage.getItem("lastSelectedList")),!0),l(s)&&l(s).length>0?x(j(l(s)[0])):navigator.geolocation.getCurrentPosition(o=>{const a={name:"Aktueller Standort",latitude:o.coords.latitude,longitude:o.coords.longitude,isSelected:!0};x(j(a))},o=>{console.error("Geolocation error:",o)})}),oe.subscribe(o=>{v(s,o,!0)});var S=lt(),p=d(S),F=d(p),E=d(F),w=d(E),H=d(w);C(H,{href:`${A??""}/`,text:"Home"});var N=_(H,2);C(N,{href:`${A??""}/forecast`,text:"3 Tagesausblick"});var U=_(N,2);C(U,{href:`${A??""}/locations`,text:"Orte"}),c(w);var k=_(w,2);Ge(k,{style:"mt-auto mb-auto",onFocused:O,get locations(){return l(i)},set locations(o){v(i,o,!0)},get searchText(){return l(r)},set searchText(o){v(r,o,!0)}});var D=_(k,2);D.__click=[et,f],c(E);var J=_(E,2),I=d(J);{var ie=o=>{var a=tt();m(o,a)};R(I,o=>{l(s)&&l(s).length>0&&o(ie)})}var ce=_(I,2);re(ce,{get locations(){return l(s)},onSelect:o=>x(j(o))}),c(J),c(F),c(p);var Z=_(p,2);{var de=o=>{var a=at(),g=d(a),y=d(g);C(y,{href:`${A??""}/`,text:"Home"});var b=_(y,2);C(b,{href:`${A??""}/forecast`,text:"3 Tagesausblick"});var q=_(b,2);C(q,{href:`${A??""}/locations`,text:"Orte"}),c(g);var te=_(g,2);{var me=M=>{var ge=rt();m(M,ge)};R(te,M=>{l(s)&&l(s).length>0&&M(me)})}var he=_(te,2);re(he,{get locations(){return l(s)},onSelect:M=>x(j(M))}),c(a),m(o,a)};R(Z,o=>{l(f)&&!(l(n)&&l(i)&&l(i).length>0)&&o(de)})}var Y=_(Z,2),$=d(Y),ve=d($);{var ue=o=>{var a=ot(),g=d(a);Me(g,{onclick:()=>{v(n,!1),v(r,"")}});var y=_(g,2),b=d(y);qe(b,{get locations(){return l(i)},onSelect:q=>x(j(q))}),c(y),c(a),m(o,a)},fe=o=>{var a=st(),g=d(a);Re(g,()=>t.children),c(a),m(o,a)};R(ve,o=>{l(n)&&l(i)&&l(i).length>0?o(ue):o(fe,!1)})}c($),c(Y);var ee=_(Y,2),_e=d(ee);$e(_e,{author:"Tim Kainz",year:"2025",links:[{href:"https://github.com/KainTim",label:"GitHub",logo:"images/github-mark.svg"}]}),c(ee),c(S),L(()=>Be(S,`background-color: ${l(u)??""};`)),m(e,S),V()}X(["click"]);export{bt as component,gt as universal};
