import{d as L,f as v,a as g}from"../chunks/qsjj-_BR.js";import{p as _,s as k,d as O,f as m,i as S,a as y,j as s,k as N,l as I}from"../chunks/BOOBJ6gn.js";import{s as f,R as J}from"../chunks/DgYw66Ob.js";import{i as j}from"../chunks/DSh7sEGW.js";import{r as d,c as w}from"../chunks/DgurLFuQ.js";var z=v('<p class="text-gray-500">Keine letzten Orte gefunden.</p>'),A=(u,n)=>{navigator.geolocation.getCurrentPosition(t=>{const a={name:"Aktueller Standort",latitude:t.coords.latitude,longitude:t.coords.longitude,isSelected:!0};n(f(a))},t=>{console.error("Geolocation error:",t)})},R=v('<div class="flex flex-col items-center justify-center"><h2 class="text-2xl font-bold mb-4">Letzte Orte</h2> <!> <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md border-2 border-blue-100 cursor-pointer">Aktuellen Standort ausw√§hlen</button></div>');function q(u,n){_(n,!0);let t=k(O([]));d.subscribe(o=>{m(t,o,!0)});function a(o){var e=JSON.parse(localStorage.getItem("lastSelectedList"));e||(e=[]);var i=e.indexOf(e.find(r=>r.id===o.id));i>=0&&e.splice(i,1),e.unshift(o),e=e.slice(0,4);for(let r=0;r<e.length;r++)e[r].isSelected=!1;e[0].isSelected=!0,m(t,e,!0);const l=f(s(t));localStorage.setItem("lastSelectedList",JSON.stringify(l)),d.set(l),w.set(o)}var c=R(),p=S(N(c),2);{var b=o=>{J(o,{get locations(){return s(t)},direction:"col",onDelete:e=>{s(t).splice(s(t).indexOf(e),1);var i=s(t).find(l=>l.isSelected);!i&&s(t).length>0&&(s(t)[0].isSelected=!0),localStorage.setItem("lastSelectedList",JSON.stringify(s(t))),d.set(f(s(t)))},onSelect:e=>a(e)})},h=o=>{var e=z();g(o,e)};j(p,o=>{s(t).length>0?o(b):o(h,!1)})}var x=S(p,2);x.__click=[A,a],I(c),g(u,c),y()}L(["click"]);export{q as component};
