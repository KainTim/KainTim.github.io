import{f as p,a as n}from"../chunks/BND21E-R.js";import{p as h,s as x,d as O,f,a as b,i as y,j as N,k as a,l as _}from"../chunks/BA5rt8da.js";import{R as I,s as d}from"../chunks/DjyfjvDH.js";import{i as J}from"../chunks/CGi2M537.js";import{r as c,c as j}from"../chunks/rPfhh50W.js";var k=p('<p class="text-gray-500">Keine letzten Orte gefunden.</p>'),z=p('<div class="flex flex-col items-center justify-center"><h2 class="text-2xl font-bold mb-4">Letzte Orte</h2> <!></div>');function A(m,S){h(S,!0);let t=x(O([]));c.subscribe(s=>{f(t,s,!0)});function g(s){var e=JSON.parse(localStorage.getItem("lastSelectedList"));e||(e=[]);var o=e.indexOf(e.find(i=>i.id===s.id));o>=0&&e.splice(o,1),e.unshift(s),e=e.slice(0,4);for(let i=0;i<e.length;i++)e[i].isSelected=!1;e[0].isSelected=!0,f(t,e,!0);const r=d(a(t));localStorage.setItem("lastSelectedList",JSON.stringify(r)),c.set(r),j.set(s)}var l=z(),u=y(N(l),2);{var v=s=>{I(s,{get locations(){return a(t)},direction:"col",onDelete:e=>{a(t).splice(a(t).indexOf(e),1);var o=a(t).find(r=>r.isSelected);!o&&a(t).length>0&&(a(t)[0].isSelected=!0),localStorage.setItem("lastSelectedList",JSON.stringify(a(t))),c.set(d(a(t)))},onSelect:e=>g(e)})},L=s=>{var e=k();n(s,e)};J(u,s=>{a(t).length>0?s(v):s(L,!1)})}_(l),n(m,l),b()}export{A as component};
