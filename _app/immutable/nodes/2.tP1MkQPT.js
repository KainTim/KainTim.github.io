import{f as S,s as _,a as w,c as z}from"../chunks/qsjj-_BR.js";import{o as B}from"../chunks/05zyj1Cr.js";import{p as F,a0 as R,f as y,s as j,k as s,l as a,i as r,a1 as E,j as i,a as M,a2 as G}from"../chunks/BOOBJ6gn.js";import{i as J}from"../chunks/DSh7sEGW.js";import{T as N,H as P,R as Q}from"../chunks/BMjwmMSg.js";import{s as V}from"../chunks/BmQQ_5LG.js";import{i as X,c as A}from"../chunks/DgurLFuQ.js";var Y=S('<div class="bg-white p-6 border border-gray-300 rounded-lg flex flex-row shadow-md mx-auto"><div class="flex-shrink-0 bg-blue-100 rounded-xl flex items-center justify-center p-4 mr-6"><img alt="Weather Icon" class="w-24 h-24"/></div> <div class="flex flex-col justify-center space-y-3 text-gray-700"><div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Aufgenommen um:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Temperatur:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Luftfeuchtigkeit:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Regenmenge:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Windgeschwindigkeit:</span> <p class="text-sm"> </p></div></div></div>');function Z(k,e){F(e,!0);let o=j(void 0);R(async()=>{y(o,(await l(e.current.weather_code,new Date)).image,!0)});async function l(D,U){const O=await(await fetch("https://gist.githubusercontent.com/stellasphere/9490c195ed2b53c707087c8c2db4ec0c/raw/76b0cb0ef0bfd8a2ec988aa54e30ecd1b483495d/descriptions.json")).json(),H=U.getHours(),q=H>6&&H<20;return O[D][q?"day":"night"]}var n=Y(),f=s(n),L=s(f);a(f);var p=r(f,2),d=s(p),h=r(s(d),2),W=s(h,!0);a(h),a(d);var v=r(d,2),t=r(s(v),2),c=s(t);a(t),a(v);var m=r(v,2),x=r(s(m),2),b=s(x);a(x),a(m);var u=r(m,2),g=r(s(u),2),I=s(g);a(g),a(u);var T=r(u,2),C=r(s(T),2),K=s(C);a(C),a(T),a(p),a(n),E((D,U)=>{V(L,"src",i(o)),_(W,D),_(c,`${e.current.temperature_2m??""} ${e.units.temperature_2m??""}`),_(b,`${e.current.relative_humidity_2m??""} ${e.units.relative_humidity_2m??""}`),_(I,`${U??""} ${(e.ismetric?e.units.rain:"in")??""}`),_(K,`${e.current.wind_speed_10m??""} ${e.units.wind_speed_10m??""}`)},[()=>new Date(e.current.time).toLocaleString(),()=>e.ismetric?e.current.rain.toFixed(1):(e.current.rain*.0393701).toFixed(1)]),w(k,n),M()}var $=S('<div class="flex flex-col items-center justify-center"><!> <div class="flex w-full flex-wrap gap-x-10 items-center justify-center"><!> <!> <!></div></div>'),ee=S('<p class="text-red-600 font-semibold bg-red-100 px-3 py-2 rounded-md max-w-sm mx-auto text-center">Kein Ort Ausgew√§hlt!</p>');function me(k,e){F(e,!0);let o=j(void 0),l=j(void 0),n=j(!0);const f=X.subscribe(t=>{y(n,t,!0)}),L=A.subscribe(t=>{y(o,t,!0)});R(()=>{A.set(i(o))}),R(async()=>{i(o)&&y(l,await p(i(o)),!0)});async function p(t){const c=i(n)?"celsius":"fahrenheit",m=i(n)?"kmh":"mph";return(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t.latitude}&longitude=${t.longitude}&current=temperature_2m,relative_humidity_2m,rain,wind_speed_10m,weather_code&temperature_unit=${c}&wind_speed_unit=${m}`)).json()}B(()=>{L(),f()});var d=z(),h=G(d);{var W=t=>{var c=$(),m=s(c);Z(m,{get current(){return i(l).current},get units(){return i(l).current_units},get ismetric(){return i(n)}});var x=r(m,2),b=s(x);N(b,{get ismetric(){return i(n)}});var u=r(b,2);P(u,{});var g=r(u,2);Q(g,{get ismetric(){return i(n)}}),a(x),a(c),w(t,c)},v=t=>{var c=ee();w(t,c)};J(h,t=>{i(l)?t(W):t(v,!1)})}w(k,d),M()}export{me as component};
