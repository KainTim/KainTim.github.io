import{d as L,f as v,a as g}from"../chunks/-IGDMShe.js";import{p as y,s as _,d as O,f as m,i as S,a as k,j as s,k as I,l as N}from"../chunks/CHEiSg6U.js";import{s as u}from"../chunks/qfjVf3oj.js";import{i as w}from"../chunks/B6-AiG01.js";import{R as D}from"../chunks/Du7K4iET.js";import{r as d,c as E}from"../chunks/Dj8NwYVE.js";var J=v('<p class="text-gray-500">Keine letzten Orte gefunden.</p>'),P=(f,n)=>{navigator.geolocation.getCurrentPosition(e=>{const r={name:"Aktueller Standort",latitude:e.coords.latitude,longitude:e.coords.longitude,isSelected:!0};n(u(r))},e=>{e.code===e.PERMISSION_DENIED?alert("To use this feature allow location access in your browser settings."):alert("Unable to retrieve your location. Please try again later.")})},R=v('<div class="flex flex-col items-center justify-center"><h2 class="text-2xl font-bold mb-4">Letzte Orte</h2> <!> <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md border-2 border-blue-100 cursor-pointer">Aktuellen Standort ausw√§hlen</button></div>');function T(f,n){y(n,!0);let e=_(O([]));d.subscribe(o=>{m(e,o,!0)});function r(o){var t=JSON.parse(localStorage.getItem("lastSelectedList"));t||(t=[]);var i=t.indexOf(t.find(a=>a.id===o.id));i>=0&&t.splice(i,1),t.unshift(o),t=t.slice(0,4);for(let a=0;a<t.length;a++)t[a].isSelected=!1;t[0].isSelected=!0,m(e,t,!0);const l=u(s(e));localStorage.setItem("lastSelectedList",JSON.stringify(l)),d.set(l),E.set(o)}var c=R(),p=S(I(c),2);{var b=o=>{D(o,{get locations(){return s(e)},direction:"col",onDelete:t=>{s(e).splice(s(e).indexOf(t),1);var i=s(e).find(l=>l.isSelected);!i&&s(e).length>0&&(s(e)[0].isSelected=!0),localStorage.setItem("lastSelectedList",JSON.stringify(s(e))),d.set(u(s(e)))},onSelect:t=>r(t)})},h=o=>{var t=J();g(o,t)};w(p,o=>{s(e).length>0?o(b):o(h,!1)})}var x=S(p,2);x.__click=[P,r],N(c),g(f,c),k()}L(["click"]);export{T as component};
