import{l as _e,d as G,f as x,e as me,a as g,c as ae,s as O}from"../chunks/DfXbaCzw.js";import{o as se}from"../chunks/SDbtaGf7.js";import{y as he,a5 as ge,G as be,n as xe,V as ye,o as L,D as pe,aE as we,u as ke,r as Se,p as D,a as oe,h as _,t as F,j as I,f as u,g as c,k as le,i as a,d as j,ae as Q,b as f}from"../chunks/Dzbd3Bxo.js";import{p as E,i as z}from"../chunks/1q3pTDcc.js";import{r as Te,s as V,c as je}from"../chunks/DkqaGYxc.js";import{b as H}from"../chunks/iCE0oGXP.js";import{e as X,i as Z,C as Fe}from"../chunks/CYIIu8wE.js";function Le(e,t,...s){var l=e,n=xe,r;he(()=>{n!==(n=t())&&(r&&(ye(r),r=null),r=be(()=>n(l,...s)))},ge),L&&(l=pe)}function Ae(e,t,s){var l=e==null?"":""+e;return l===""?null:l}function Ne(e,t){return e==null?null:String(e)}function ne(e,t,s,l,n,r){var i=e.__className;if(L||i!==s||i===void 0){var v=Ae(s);(!L||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=s}return r}function Ce(e,t,s,l){var n=e.__style;if(L||n!==t){var r=Ne(t);(!L||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=t}return l}function Ee(e,t,s=t){var l=we();_e(e,"input",n=>{var r=n?e.defaultValue:e.value;if(r=U(e)?W(r):r,s(r),l&&r!==(r=t())){var i=e.selectionStart,v=e.selectionEnd;e.value=r??"",v!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(v,e.value.length))}}),(L&&e.defaultValue!==e.value||ke(t)==null&&e.value)&&s(U(e)?W(e.value):e.value),Se(()=>{var n=t();U(e)&&n===W(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function U(e){var t=e.type;return t==="number"||t==="range"}function W(e){return e===""?null:+e}const Oe=!0,lt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Oe},Symbol.toStringTag,{value:"Module"}));var De=(e,t)=>t.onFocused(),Ie=x(`<div><span class="mr-2 font-medium text-blue-800 select-none">Ortssuche:</span> <input type="text" list="locations" class="flex-grow bg-blue-50 border border-transparent rounded-md px-3 py-1.5 text-blue-900 placeholder-blue-400
           focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition" placeholder="Ort eingeben..."/></div>`);function Me(e,t){D(t,!0);let s=E(t,"locations",15),l=E(t,"searchText",15);oe(async()=>{l()&&s((await n(l())).results)});async function n(v){return(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${v}&count=5&language=de&format=json`)).json()}se(()=>{l("")});var r=Ie(),i=_(u(r),2);Te(i),i.__keydown=[De,t],c(r),F(()=>ne(r,1,`${t.style} flex items-center bg-blue-50 border border-blue-600 rounded-lg px-3 py-2 max-w-md`)),me("focus",i,()=>t.onFocused()),Ee(i,l),g(e,r),I()}G(["keydown"]);var Be=(e,t,s)=>t.onSelect(a(s)),Re=x('<div class="flex justify-between min-w-sm max-w-screen mt-2 bg-blue-100 p-1 rounded-sm"><p class="mr-25"> </p> <button class="rounded-md bg-cyan-50 border-2 border-cyan-300 p-0.5 text-xl self-end cursor-pointer mb-auto mt-auto">Select</button></div>');function He(e,t){D(t,!0);var s=ae(),l=le(s);X(l,17,()=>t.locations,Z,(n,r)=>{var i=Re(),v=u(i),m=u(v);c(v);var h=_(v,2);h.__click=[Be,t,r],c(i),F(()=>O(m,`${a(r).name??""}, ${a(r).admin1??""} ${a(r).admin3?"(":""}${a(r).admin3??""}${a(r).admin3?")":""} | ${a(r).country_code??""}`)),g(n,i)}),g(e,s),I()}G(["click"]);var Je=x(`<a class="rounded-md bg-white border-2 border-gray-400 px-4 py-2 ml-2 text-2xl font-semibold text-gray-700 
         hover:bg-gray-100 hover:border-gray-600 transition-colors duration-200 cursor-pointer select-none"> </a>`);function J(e,t){var s=Je(),l=u(s,!0);c(s),F(()=>{V(s,"href",t.href),O(l,t.text)}),g(e,s)}var Ve=(e,t,s)=>{a(t).isSelected||s.onSelect(a(t))},ze=x("<button> </button>"),Ge=x('<div class="w-full mx-2"><div class="flex justify-center flex-wrap gap-2"></div></div>');function re(e,t){D(t,!0);var s=ae(),l=le(s);{var n=r=>{var i=Ge(),v=u(i);X(v,21,()=>t.locations,Z,(m,h)=>{var b=ze();b.__click=[Ve,h,t];var w=u(b);c(b),F(()=>{ne(b,1,`${a(h).isSelected?"bg-blue-400":"bg-gray-100 hover:bg-gray-200 cursor-pointer"} text-sm md:text-base text-gray-800 px-4 py-2 rounded-full border border-gray-300 transition-all`),O(w,`${a(h).name??""}, ${a(h).admin1??""} ${a(h).admin3?"(":""}${a(h).admin3??""}${a(h).admin3?")":""} | ${a(h).country_code??""}`)}),g(m,b)}),c(v),c(i),g(r,i)};z(l,r=>{t.locations&&r(n)})}g(e,s),I()}G(["click"]);var Ke=x('<a class="flex items-center space-x-2 bg-blue-100 p-2 rounded-md cursor-pointer hover:bg-blue-200 transition-colors duration-150" target="_blank"><p> </p> <img class="w-8 h-8"/></a>'),Pe=x('<nav class="flex space-x-4"></nav>'),Ye=x('<footer class="bg-white border-t border-gray-200 mt-12 text-sm text-gray-600"><div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-4"><p class="text-center md:text-left text-lg"> </p> <!></div></footer>');function qe(e,t){D(t,!0);let s=E(t,"year",19,()=>new Date().getFullYear()),l=E(t,"author",3,"Dein Name"),n=E(t,"links",19,()=>[]);var r=Ye(),i=u(r),v=u(i),m=u(v);c(v);var h=_(v,2);{var b=w=>{var k=Pe();X(k,21,n,Z,(M,S)=>{let A=()=>a(S).href,N=()=>a(S).label,K=()=>a(S).logo;var T=Ke(),C=u(T),B=u(C,!0);c(C);var R=_(C,2);c(T),F(()=>{V(T,"href",A()),O(B,N()),V(R,"src",K()),V(R,"alt",`Logo for ${N()??""}`)}),g(M,T)}),c(k),g(w,k)};z(h,w=>{n().length>0&&w(b)})}c(i),c(r),F(()=>O(m,`Â© ${s()??""} ${l()??""}. Alle Rechte vorbehalten.`)),g(e,r),I()}var Qe=(e,t)=>f(t,!a(t)),Ue=x('<div class="bg-gray-200 shadow-md p-2"><div class="md:hidden flex flex-col gap-y-2 items-center "><!> <!></div> <hr class="my-2"/> <!></div>'),We=x('<div class="relative"><!> <div class="pt-10"><!></div></div>'),Xe=x('<div class="mt-5"><!></div>'),Ze=x('<div class="flex flex-col min-h-screen transition-colors duration-300 ease-in-out"><div class="flex justify-center w-full bg-gray-100 rounded-b-sm shadow-md"><div class="flex flex-wrap flex-col p-2 "><div class="flex flex-wrap justify-center gap-x-5 w-full items-center"><div class="hidden md:flex flex-wrap flex-row"><!> <!></div> <!> <button class="md:hidden text-black focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="hidden md:block"><hr class="my-2"/> <!></div></div></div> <!> <div class="flex justify-center p-3"><div class="block"><!></div></div> <footer class="mt-auto"><!></footer></div>');function nt(e,t){D(t,!0);let s=j(!1),l=j(Q([])),n=j(Q([])),r=j(""),i=j(Q({})),v=j(!1),m=j("lightgray");function h(){f(s,!0)}function b(o){je.set(o);var d=JSON.parse(localStorage.getItem("lastSelectedList"));d||(d=[]);var y=d.indexOf(d.find(p=>p.id===o.id));y>-1&&d.splice(y,1),d.unshift(o),d=d.slice(0,4);for(let p=0;p<d.length;p++)d[p].isSelected=!1;d[0].isSelected=!0,f(n,d,!0),localStorage.setItem("lastSelectedList",JSON.stringify(d)),f(i,o,!0),f(s,!1),f(r,""),f(v,!1)}oe(async()=>{if(!a(i)||!a(i).latitude||!a(i).longitude)return;let o=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${a(i).latitude}&longitude=${a(i).longitude}&current=weather_code`)).json();o.current.weather_code===0?f(m,"#87CEEB"):o.current.weather_code>=1&&o.current.weather_code<=3?f(m,"#B0C4DE"):o.current.weather_code>=4&&o.current.weather_code<=6?f(m,"#A9A9A9"):o.current.weather_code>=7&&o.current.weather_code<=9?f(m,"#778899"):o.current.weather_code>=10&&o.current.weather_code<=17?f(m,"#708090"):o.current.weather_code>=18&&o.current.weather_code<=29?f(m,"#F0F8FF"):f(m,"#D3D3D3")}),se(()=>{f(n,JSON.parse(localStorage.getItem("lastSelectedList")),!0),a(n)&&a(n).length>0&&b(a(n)[0])});var w=Ze(),k=u(w),M=u(k),S=u(M),A=u(S),N=u(A);J(N,{href:`${H??""}/`,text:"Home"});var K=_(N,2);J(K,{href:`${H??""}/forecast`,text:"3 Tagesausblick"}),c(A);var T=_(A,2);Me(T,{style:"mt-auto mb-auto",onFocused:h,get locations(){return a(l)},set locations(o){f(l,o,!0)},get searchText(){return a(r)},set searchText(o){f(r,o,!0)}});var C=_(T,2);C.__click=[Qe,v],c(S);var B=_(S,2),R=_(u(B),2);re(R,{get locations(){return a(n)},onSelect:o=>b(o)}),c(B),c(M),c(k);var $=_(k,2);{var ie=o=>{var d=Ue(),y=u(d),p=u(y);J(p,{href:`${H??""}/`,text:"Home"});var Y=_(p,2);J(Y,{href:`${H??""}/forecast`,text:"3 Tagesausblick"}),c(y);var q=_(y,4);re(q,{get locations(){return a(n)},onSelect:fe=>b(fe)}),c(d),g(o,d)};z($,o=>{a(v)&&!(a(s)&&a(l)&&a(l).length>0)&&o(ie)})}var P=_($,2),ee=u(P),ce=u(ee);{var de=o=>{var d=We(),y=u(d);Fe(y,{onclick:()=>{f(s,!1),f(r,"")}});var p=_(y,2),Y=u(p);He(Y,{get locations(){return a(l)},onSelect:q=>b(q)}),c(p),c(d),g(o,d)},ue=o=>{var d=Xe(),y=u(d);Le(y,()=>t.children),c(d),g(o,d)};z(ce,o=>{a(s)&&a(l)&&a(l).length>0?o(de):o(ue,!1)})}c(ee),c(P);var te=_(P,2),ve=u(te);qe(ve,{author:"Tim Kainz",year:"2025",links:[{href:"https://github.com/KainTim",label:"GitHub",logo:"images/github-mark.svg"}]}),c(te),c(w),F(()=>Ce(w,`background-color: ${a(m)??""};`)),g(e,w),I()}G(["click"]);export{nt as component,lt as universal};
