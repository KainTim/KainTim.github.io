import{l as de,d as ee,f as b,e as Oe,a as m,s as P}from"../chunks/-IGDMShe.js";import{a as te}from"../chunks/CXIUv3Zp.js";import{x as Te,a7 as Fe,F as Ce,$ as je,V as Ee,h as J,C as Ie,aF as Me,u as ve,r as ue,p as U,a1 as fe,i as h,a2 as E,a as H,f as v,s as O,k as u,l as d,j as s,a3 as Ne,d as Le}from"../chunks/CHEiSg6U.js";import{s as T}from"../chunks/qfjVf3oj.js";import{p as F,i as B}from"../chunks/B6-AiG01.js";import{t as Ae,s as G,R as se}from"../chunks/Du7K4iET.js";import{r as he,s as z}from"../chunks/BqBqd16w.js";import{i as ne,c as ie,r as ce}from"../chunks/Dj8NwYVE.js";import{b as L}from"../chunks/BNEUmLSB.js";import{e as ge,i as _e}from"../chunks/BpqQ1ULl.js";import{C as Be}from"../chunks/BUp8G6bi.js";function De(e,t,...n){var c=e,r=je,l;Te(()=>{r!==(r=t())&&(l&&(Ee(l),l=null),l=Ce(()=>r(c,...n)))},Fe),J&&(c=Ie)}function Re(e,t,n,c){var r=e.__style;if(J||r!==t){var l=Ae(t);(!J||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=t}return c}function Pe(e,t,n=t){var c=Me();de(e,"input",r=>{var l=r?e.defaultValue:e.value;if(l=Z(e)?$(l):l,n(l),c&&l!==(l=t())){var f=e.selectionStart,i=e.selectionEnd;e.value=l??"",i!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(i,e.value.length))}}),(J&&e.defaultValue!==e.value||ve(t)==null&&e.value)&&n(Z(e)?$(e.value):e.value),ue(()=>{var r=t();Z(e)&&r===$(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Je(e,t,n=t){de(e,"change",c=>{var r=c?e.defaultChecked:e.checked;n(r)}),(J&&e.defaultChecked!==e.checked||ve(t)==null)&&n(e.checked),ue(()=>{var c=t();e.checked=!!c})}function Z(e){var t=e.type;return t==="number"||t==="range"}function $(e){return e===""?null:+e}const Ue=!0,wt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ue},Symbol.toStringTag,{value:"Module"}));var He=(e,t)=>t.onFocused(),Ke=b('<div><span class="mr-2 font-medium text-blue-800 select-none">Ortssuche:</span> <input type="text" list="locations" placeholder="Ort eingeben..."/></div>');function Ve(e,t){U(t,!0);let n=F(t,"locations",15),c=F(t,"searchText",15),r=O(!1);fe(async()=>{c()&&n((await l(c())).results)});async function l(_){try{const g=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${_}&count=5&language=de&format=json`);return g.ok?(v(r,!1),await g.json()):(v(r,!0),{})}catch{return v(r,!0),{}}}te(()=>{c("")});var f=Ke(),i=h(u(f),2);he(i),i.__keydown=[He,t],d(f),E(()=>{G(f,1,`${t.style} flex items-center bg-blue-50 border border-blue-600 rounded-lg px-3 py-2 max-w-md`),G(i,1,`flex-grow ${s(r)?"bg-red-200 focus:ring-red-600":"bg-blue-50 focus:ring-blue-600"} border border-transparent rounded-md px-3 py-1.5 text-blue-900 placeholder-blue-400
            focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition`)}),Oe("focus",i,()=>t.onFocused()),Pe(i,c),m(e,f),H()}ee(["keydown"]);var ze=b('<p class="text-gray-500">Keine Orte gefunden. Bitte geben Sie einen Suchbegriff ein.</p>'),Ge=(e,t,n)=>t.onSelect(s(n)),Ye=()=>{},qe=b('<div class="flex justify-end min-w-sm max-w-screen mt-2 bg-blue-100 py-2 rounded-sm cursor-pointer" role="button" tabindex="0"><p class="mx-5 my-auto text-right"> </p></div>'),Qe=b("<!> <!>",1);function We(e,t){U(t,!0);var n=Qe(),c=Ne(n);{var r=f=>{var i=ze();m(f,i)};B(c,f=>{t.locations.length===0&&f(r)})}var l=h(c,2);ge(l,17,()=>t.locations,_e,(f,i)=>{var _=qe();_.__click=[Ge,t,i],_.__keydown=[Ye];var g=u(_),p=u(g);d(g),d(_),E(()=>P(p,`${s(i).name??""}, ${s(i).admin1??""} ${s(i).admin3?"(":""}${s(i).admin3??""}${s(i).admin3?")":""} | ${s(i).country_code??""}`)),m(f,_)}),m(e,n),H()}ee(["click","keydown"]);var Xe=b(`<a class="rounded-md bg-white border-2 border-gray-400 px-4 py-2 ml-2 text-2xl font-semibold text-gray-700 
         hover:bg-gray-100 hover:border-gray-600 transition-colors duration-200 cursor-pointer select-none"> </a>`);function A(e,t){var n=Xe(),c=u(n,!0);d(n),E(()=>{z(n,"href",t.href),P(c,t.text)}),m(e,n)}var Ze=b('<div class="flex items-center w-40"><label class="flex items-center cursor-pointer"><div class="relative"><input type="checkbox" class="sr-only"/> <div></div> <div></div></div> <div class="ml-3 text-gray-700"> </div></label></div>');function $e(e,t){U(t,!0);let n=F(t,"value",15),c=F(t,"labelOff",3,"Imperical"),r=F(t,"labelOn",3,"Metric");var l=Ze(),f=u(l),i=u(f),_=u(i);he(_);var g=h(_,2),p=h(g,2);d(i);var k=h(i,2),I=u(k,!0);d(k),d(f),d(l),E(()=>{G(g,1,`block w-14 h-8 rounded-full bg-gray-300 transition-colors duration-200 ${n()?"!bg-sky-300":""}`),G(p,1,`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-200 ${n()?"transform translate-x-6":""}`),P(I,n()?r():c())}),Je(_,n),m(e,l),H()}var et=b('<a class="flex items-center space-x-2 bg-blue-100 p-2 rounded-md cursor-pointer hover:bg-blue-200 transition-colors duration-150" target="_blank"><p> </p> <img class="w-8 h-8"/></a>'),tt=b('<nav class="flex space-x-4"></nav>'),rt=b('<footer class="bg-white border-t border-gray-200 mt-12 text-sm text-gray-600"><div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-4"><!> <p class="text-center md:text-left text-lg"> </p> <!></div></footer>');function at(e,t){U(t,!0);let n=F(t,"year",19,()=>new Date().getFullYear()),c=F(t,"author",3,"Name"),r=F(t,"links",19,()=>[]),l=O(!0);fe(()=>{localStorage.setItem("isMetricUnits",JSON.stringify(s(l))),ne.set(T(s(l)))}),te(()=>{const x=localStorage.getItem("isMetricUnits");x&&(v(l,JSON.parse(x),!0),ne.set(T(s(l))))});var f=rt(),i=u(f),_=u(i);$e(_,{get value(){return s(l)},set value(x){v(l,x,!0)}});var g=h(_,2),p=u(g);d(g);var k=h(g,2);{var I=x=>{var C=tt();ge(C,21,r,_e,(K,M)=>{let Y=()=>s(M).href,D=()=>s(M).label,q=()=>s(M).logo;var j=et(),N=u(j),Q=u(N,!0);d(N);var V=h(N,2);d(j),E(()=>{z(j,"href",Y()),P(Q,D()),z(V,"src",q()),z(V,"alt",`Logo for ${D()??""}`)}),m(K,j)}),d(C),m(x,C)};B(k,x=>{r().length>0&&x(I)})}d(i),d(f),E(()=>P(p,`Â© ${n()??""} ${c()??""}. Alle Rechte vorbehalten.`)),m(e,f),H()}var ot=(e,t)=>v(t,!s(t)),lt=b('<hr class="my-2"/>'),st=b('<hr class="my-2"/>'),nt=b('<div class="bg-gray-200 shadow-md p-2"><div class="md:hidden flex flex-col gap-y-2 items-center "><!> <!> <!></div> <!> <!></div>'),it=b('<div class="relative"><!> <div class="pt-10"><!></div></div>'),ct=b('<div class="mt-5"><!></div>'),dt=b('<div class="flex flex-col min-h-screen transition-colors duration-300 ease-in-out"><div class="flex justify-center w-full bg-gray-100 rounded-b-sm shadow-md"><div class="flex flex-wrap flex-col p-2 "><div class="flex flex-wrap justify-center gap-x-5 w-full items-center"><div class="hidden md:flex flex-wrap flex-row"><!> <!> <!></div> <!> <button class="md:hidden text-black focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="hidden md:block"><!> <!></div></div></div> <!> <div class="flex justify-center p-3"><div class="block"><!></div></div> <footer class="mt-auto"><!></footer></div>');function kt(e,t){U(t,!0);let n=O(!1),c=O(Le([])),r=O(void 0),l=O(""),f=O(!1),i=O("lightgray");function _(){v(n,!0)}function g(o){var a=JSON.parse(localStorage.getItem("lastSelectedList"));a||(a=[]);var y=a.indexOf(a.find(w=>w.id===o.id));y>=0&&a.splice(y,1),a.unshift(o),a=a.slice(0,4);for(let w=0;w<a.length;w++)a[w].isSelected=!1;a[0].isSelected=!0,v(r,a,!0);const S=T(s(r));localStorage.setItem("lastSelectedList",JSON.stringify(S)),ce.set(S),ie.set(o),v(n,!1),console.log("clearing search Text in selectLocation"),v(l,""),v(f,!1)}ie.subscribe(async o=>{if(v(n,!1),console.log("clearing in locationStore subscribe"),v(l,""),v(f,!1),!o||!o.latitude||!o.longitude)return;let a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${o.latitude}&longitude=${o.longitude}&current=weather_code`)).json();a.current.weather_code===0?v(i,"#87CEEB"):a.current.weather_code>=1&&a.current.weather_code<=3?v(i,"#B0C4DE"):a.current.weather_code>=4&&a.current.weather_code<=6?v(i,"#A9A9A9"):a.current.weather_code>=7&&a.current.weather_code<=9?v(i,"#778899"):a.current.weather_code>=10&&a.current.weather_code<=17?v(i,"#708090"):a.current.weather_code>=18&&a.current.weather_code<=29?v(i,"#F0F8FF"):v(i,"#D3D3D3")}),te(()=>{v(r,JSON.parse(localStorage.getItem("lastSelectedList")),!0),s(r)&&s(r).length>0?g(T(s(r)[0])):navigator.geolocation.getCurrentPosition(o=>{const a={name:"Aktueller Standort",latitude:o.coords.latitude,longitude:o.coords.longitude,isSelected:!0};g(T(a))},o=>{o.code===o.PERMISSION_DENIED?alert("Please select a location manually or allow location access in your browser settings."):alert("Unable to retrieve your location. Please try again later.")})}),ce.subscribe(o=>{v(r,o,!0)});var p=dt(),k=u(p),I=u(k),x=u(I),C=u(x),K=u(C);A(K,{href:`${L??""}/`,text:"Home"});var M=h(K,2);A(M,{href:`${L??""}/forecast`,text:"3 Tagesausblick"});var Y=h(M,2);A(Y,{href:`${L??""}/locations`,text:"Orte"}),d(C);var D=h(C,2);Ve(D,{style:"mt-auto mb-auto",onFocused:_,get locations(){return s(c)},set locations(o){v(c,o,!0)},get searchText(){return s(l)},set searchText(o){v(l,o,!0)}});var q=h(D,2);q.__click=[ot,f],d(x);var j=h(x,2),N=u(j);{var Q=o=>{var a=lt();m(o,a)};B(N,o=>{s(r)&&s(r).length>0&&o(Q)})}var V=h(N,2);se(V,{get locations(){return s(r)},onSelect:o=>g(T(o))}),d(j),d(I),d(k);var re=h(k,2);{var me=o=>{var a=nt(),y=u(a),S=u(y);A(S,{href:`${L??""}/`,text:"Home"});var w=h(S,2);A(w,{href:`${L??""}/forecast`,text:"3 Tagesausblick"});var X=h(w,2);A(X,{href:`${L??""}/locations`,text:"Orte"}),d(y);var le=h(y,2);{var we=R=>{var Se=st();m(R,Se)};B(le,R=>{s(r)&&s(r).length>0&&R(we)})}var ke=h(le,2);se(ke,{get locations(){return s(r)},onSelect:R=>g(T(R))}),d(a),m(o,a)};B(re,o=>{s(f)&&!(s(n)&&s(c)&&s(c).length>0)&&o(me)})}var W=h(re,2),ae=u(W),be=u(ae);{var xe=o=>{var a=it(),y=u(a);Be(y,{onclick:()=>{v(n,!1),console.log("clearing search Text in close button"),v(l,"")}});var S=h(y,2),w=u(S);We(w,{get locations(){return s(c)},onSelect:X=>g(T(X))}),d(S),d(a),m(o,a)},ye=o=>{var a=ct(),y=u(a);De(y,()=>t.children),d(a),m(o,a)};B(be,o=>{s(n)&&s(c)&&s(c).length>0?o(xe):o(ye,!1)})}d(ae),d(W);var oe=h(W,2),pe=u(oe);at(pe,{author:"Tim Kainz",year:"2025",links:[{href:"https://github.com/KainTim",label:"GitHub",logo:"images/github-mark.svg"}]}),d(oe),d(p),E(()=>Re(p,`background-color: ${s(i)??""};`)),m(e,p),H()}ee(["click"]);export{kt as component,wt as universal};
