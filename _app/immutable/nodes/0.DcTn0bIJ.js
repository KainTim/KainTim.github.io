import{l as xe,d as P,f as b,e as ye,a as m,c as oe,s as M}from"../chunks/DfXbaCzw.js";import{o as se}from"../chunks/SDbtaGf7.js";import{y as pe,a5 as we,G as ke,n as Se,V as Te,o as A,D as je,aE as Fe,u as Le,r as Ae,p as B,a as le,h as _,t as F,j as R,f as u,g as d,k as ne,i as r,d as j,ae as U,b as f}from"../chunks/Dzbd3Bxo.js";import{p as I,i as L}from"../chunks/1q3pTDcc.js";import{r as Ne,s as K,c as Ce}from"../chunks/DkqaGYxc.js";import{b as z}from"../chunks/BqzhmzQo.js";import{e as Z,i as $,C as Ee}from"../chunks/CYIIu8wE.js";function Oe(e,t,...s){var n=e,l=Se,a;pe(()=>{l!==(l=t())&&(a&&(Te(a),a=null),a=ke(()=>l(n,...s)))},we),A&&(n=je)}function De(e,t,s){var n=e==null?"":""+e;return n===""?null:n}function Ie(e,t){return e==null?null:String(e)}function ie(e,t,s,n,l,a){var i=e.__className;if(A||i!==s||i===void 0){var v=De(s);(!A||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=s}return a}function Me(e,t,s,n){var l=e.__style;if(A||l!==t){var a=Ie(t);(!A||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return n}function Be(e,t,s=t){var n=Fe();xe(e,"input",l=>{var a=l?e.defaultValue:e.value;if(a=W(e)?X(a):a,s(a),n&&a!==(a=t())){var i=e.selectionStart,v=e.selectionEnd;e.value=a??"",v!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(v,e.value.length))}}),(A&&e.defaultValue!==e.value||Le(t)==null&&e.value)&&s(W(e)?X(e.value):e.value),Ae(()=>{var l=t();W(e)&&l===X(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function W(e){var t=e.type;return t==="number"||t==="range"}function X(e){return e===""?null:+e}const Re=!0,ft=Object.freeze(Object.defineProperty({__proto__:null,prerender:Re},Symbol.toStringTag,{value:"Module"}));var He=(e,t)=>t.onFocused(),Je=b(`<div><span class="mr-2 font-medium text-blue-800 select-none">Ortssuche:</span> <input type="text" list="locations" class="flex-grow bg-blue-50 border border-transparent rounded-md px-3 py-1.5 text-blue-900 placeholder-blue-400
           focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition" placeholder="Ort eingeben..."/></div>`);function Ve(e,t){B(t,!0);let s=I(t,"locations",15),n=I(t,"searchText",15);le(async()=>{n()&&s((await l(n())).results)});async function l(v){return(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${v}&count=5&language=de&format=json`)).json()}se(()=>{n("")});var a=Je(),i=_(u(a),2);Ne(i),i.__keydown=[He,t],d(a),F(()=>ie(a,1,`${t.style} flex items-center bg-blue-50 border border-blue-600 rounded-lg px-3 py-2 max-w-md`)),ye("focus",i,()=>t.onFocused()),Be(i,n),m(e,a),R()}P(["keydown"]);var ze=(e,t,s)=>t.onSelect(r(s)),Ge=b('<div class="flex justify-between min-w-sm max-w-screen mt-2 bg-blue-100 p-1 rounded-sm"><p class="mr-25"> </p> <button class="rounded-md bg-cyan-50 border-2 border-cyan-300 p-0.5 text-xl self-end cursor-pointer mb-auto mt-auto">Select</button></div>');function Ke(e,t){B(t,!0);var s=oe(),n=ne(s);Z(n,17,()=>t.locations,$,(l,a)=>{var i=Ge(),v=u(i),h=u(v);d(v);var g=_(v,2);g.__click=[ze,t,a],d(i),F(()=>M(h,`${r(a).name??""}, ${r(a).admin1??""} ${r(a).admin3?"(":""}${r(a).admin3??""}${r(a).admin3?")":""} | ${r(a).country_code??""}`)),m(l,i)}),m(e,s),R()}P(["click"]);var Pe=b(`<a class="rounded-md bg-white border-2 border-gray-400 px-4 py-2 ml-2 text-2xl font-semibold text-gray-700 
         hover:bg-gray-100 hover:border-gray-600 transition-colors duration-200 cursor-pointer select-none"> </a>`);function G(e,t){var s=Pe(),n=u(s,!0);d(s),F(()=>{K(s,"href",t.href),M(n,t.text)}),m(e,s)}var Ye=(e,t,s)=>{r(t).isSelected||s.onSelect(r(t))},qe=b("<button> </button>"),Qe=b('<div class="w-full mx-2"><div class="flex justify-center flex-wrap gap-2"></div></div>');function ae(e,t){B(t,!0);var s=oe(),n=ne(s);{var l=a=>{var i=Qe(),v=u(i);Z(v,21,()=>t.locations,$,(h,g)=>{var x=qe();x.__click=[Ye,g,t];var w=u(x);d(x),F(()=>{ie(x,1,`${r(g).isSelected?"bg-blue-400":"bg-gray-100 hover:bg-gray-200 cursor-pointer"} text-sm md:text-base text-gray-800 px-4 py-2 rounded-full border border-gray-300 transition-all`),M(w,`${r(g).name??""}, ${r(g).admin1??""} ${r(g).admin3?"(":""}${r(g).admin3??""}${r(g).admin3?")":""} | ${r(g).country_code??""}`)}),m(h,x)}),d(v),d(i),m(a,i)};L(n,a=>{t.locations&&a(l)})}m(e,s),R()}P(["click"]);var Ue=b('<a class="flex items-center space-x-2 bg-blue-100 p-2 rounded-md cursor-pointer hover:bg-blue-200 transition-colors duration-150" target="_blank"><p> </p> <img class="w-8 h-8"/></a>'),We=b('<nav class="flex space-x-4"></nav>'),Xe=b('<footer class="bg-white border-t border-gray-200 mt-12 text-sm text-gray-600"><div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-4"><p class="text-center md:text-left text-lg"> </p> <!></div></footer>');function Ze(e,t){B(t,!0);let s=I(t,"year",19,()=>new Date().getFullYear()),n=I(t,"author",3,"Dein Name"),l=I(t,"links",19,()=>[]);var a=Xe(),i=u(a),v=u(i),h=u(v);d(v);var g=_(v,2);{var x=w=>{var k=We();Z(k,21,l,$,(H,S)=>{let N=()=>r(S).href,C=()=>r(S).label,Y=()=>r(S).logo;var T=Ue(),E=u(T),J=u(E,!0);d(E);var O=_(E,2);d(T),F(()=>{K(T,"href",N()),M(J,C()),K(O,"src",Y()),K(O,"alt",`Logo for ${C()??""}`)}),m(H,T)}),d(k),m(w,k)};L(g,w=>{l().length>0&&w(x)})}d(i),d(a),F(()=>M(h,`Â© ${s()??""} ${n()??""}. Alle Rechte vorbehalten.`)),m(e,a),R()}var $e=(e,t)=>f(t,!r(t)),et=b('<hr class="my-2"/>'),tt=b('<hr class="my-2"/>'),rt=b('<div class="bg-gray-200 shadow-md p-2"><div class="md:hidden flex flex-col gap-y-2 items-center "><!> <!></div> <!> <!></div>'),at=b('<div class="relative"><!> <div class="pt-10"><!></div></div>'),ot=b('<div class="mt-5"><!></div>'),st=b('<div class="flex flex-col min-h-screen transition-colors duration-300 ease-in-out"><div class="flex justify-center w-full bg-gray-100 rounded-b-sm shadow-md"><div class="flex flex-wrap flex-col p-2 "><div class="flex flex-wrap justify-center gap-x-5 w-full items-center"><div class="hidden md:flex flex-wrap flex-row"><!> <!></div> <!> <button class="md:hidden text-black focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="hidden md:block"><!> <!></div></div></div> <!> <div class="flex justify-center p-3"><div class="block"><!></div></div> <footer class="mt-auto"><!></footer></div>');function _t(e,t){B(t,!0);let s=j(!1),n=j(U([])),l=j(U([])),a=j(""),i=j(U({})),v=j(!1),h=j("lightgray");function g(){f(s,!0)}function x(o){Ce.set(o);var c=JSON.parse(localStorage.getItem("lastSelectedList"));c||(c=[]);var y=c.indexOf(c.find(p=>p.id===o.id));y>-1&&c.splice(y,1),c.unshift(o),c=c.slice(0,4);for(let p=0;p<c.length;p++)c[p].isSelected=!1;c[0].isSelected=!0,f(l,c,!0),localStorage.setItem("lastSelectedList",JSON.stringify(c)),f(i,o,!0),f(s,!1),f(a,""),f(v,!1)}le(async()=>{if(!r(i)||!r(i).latitude||!r(i).longitude)return;let o=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${r(i).latitude}&longitude=${r(i).longitude}&current=weather_code`)).json();o.current.weather_code===0?f(h,"#87CEEB"):o.current.weather_code>=1&&o.current.weather_code<=3?f(h,"#B0C4DE"):o.current.weather_code>=4&&o.current.weather_code<=6?f(h,"#A9A9A9"):o.current.weather_code>=7&&o.current.weather_code<=9?f(h,"#778899"):o.current.weather_code>=10&&o.current.weather_code<=17?f(h,"#708090"):o.current.weather_code>=18&&o.current.weather_code<=29?f(h,"#F0F8FF"):f(h,"#D3D3D3")}),se(()=>{f(l,JSON.parse(localStorage.getItem("lastSelectedList")),!0),r(l)&&r(l).length>0&&x(r(l)[0])});var w=st(),k=u(w),H=u(k),S=u(H),N=u(S),C=u(N);G(C,{href:`${z??""}/`,text:"Home"});var Y=_(C,2);G(Y,{href:`${z??""}/forecast`,text:"3 Tagesausblick"}),d(N);var T=_(N,2);Ve(T,{style:"mt-auto mb-auto",onFocused:g,get locations(){return r(n)},set locations(o){f(n,o,!0)},get searchText(){return r(a)},set searchText(o){f(a,o,!0)}});var E=_(T,2);E.__click=[$e,v],d(S);var J=_(S,2),O=u(J);{var ce=o=>{var c=et();m(o,c)};L(O,o=>{r(l)&&r(l).length>0&&o(ce)})}var de=_(O,2);ae(de,{get locations(){return r(l)},onSelect:o=>x(o)}),d(J),d(H),d(k);var ee=_(k,2);{var ue=o=>{var c=rt(),y=u(c),p=u(y);G(p,{href:`${z??""}/`,text:"Home"});var Q=_(p,2);G(Q,{href:`${z??""}/forecast`,text:"3 Tagesausblick"}),d(y);var V=_(y,2);{var he=D=>{var be=tt();m(D,be)};L(V,D=>{r(l)&&r(l).length>0&&D(he)})}var ge=_(V,2);ae(ge,{get locations(){return r(l)},onSelect:D=>x(D)}),d(c),m(o,c)};L(ee,o=>{r(v)&&!(r(s)&&r(n)&&r(n).length>0)&&o(ue)})}var q=_(ee,2),te=u(q),ve=u(te);{var fe=o=>{var c=at(),y=u(c);Ee(y,{onclick:()=>{f(s,!1),f(a,"")}});var p=_(y,2),Q=u(p);Ke(Q,{get locations(){return r(n)},onSelect:V=>x(V)}),d(p),d(c),m(o,c)},_e=o=>{var c=ot(),y=u(c);Oe(y,()=>t.children),d(c),m(o,c)};L(ve,o=>{r(s)&&r(n)&&r(n).length>0?o(fe):o(_e,!1)})}d(te),d(q);var re=_(q,2),me=u(re);Ze(me,{author:"Tim Kainz",year:"2025",links:[{href:"https://github.com/KainTim",label:"GitHub",logo:"images/github-mark.svg"}]}),d(re),d(w),F(()=>Me(w,`background-color: ${r(h)??""};`)),m(e,w),R()}P(["click"]);export{_t as component,ft as universal};
