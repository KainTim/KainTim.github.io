import"../chunks/CWj6FrbW.js";import{a5 as z,a3 as T,V as w,a6 as C,a7 as s,a8 as t,a9 as r,aa as F,g as i,ab as A,ac as q,am as G}from"../chunks/C75I0OUt.js";import{d as H,f as j,s as g,e as J,a as k}from"../chunks/BZhzRQKs.js";import{i as N}from"../chunks/sTYJGKC6.js";import{e as P,i as Q}from"../chunks/C92Aw56D.js";import{b as X}from"../chunks/P8bpv5gV.js";import{s as Y,c as B}from"../chunks/GBbgyQl_.js";var Z=(v,e)=>e.onclick(),I=j('<div class="bg-white p-6 border border-gray-300 rounded-lg flex flex-row shadow-md max-w-md mx-auto cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500" role="button" tabindex="0"><div class="flex-shrink-0 bg-blue-100 rounded-xl flex items-center justify-center p-4 mr-6"><img alt="Weather Icon" class="w-24 h-24"/></div> <div class="flex flex-col justify-center space-y-3 text-gray-700"><div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Aufgenommen um:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Temperatur:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Luftfeuchtigkeit:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Regenmenge:</span> <p class="text-sm"> </p></div> <div class="flex flex-col sm:flex-row sm:justify-between sm:space-x-4"><span class="font-semibold text-sm">Windgeschwindigkeit:</span> <p class="text-sm"> </p></div></div></div>');function $(v,e){z(e,!0);let l=C("");T(async()=>{w(l,(await n(e.hourly.weather_code[e.index],new Date)).image,!0)});async function n(R,M){const U=await(await fetch("https://gist.githubusercontent.com/stellasphere/9490c195ed2b53c707087c8c2db4ec0c/raw/76b0cb0ef0bfd8a2ec988aa54e30ecd1b483495d/descriptions.json")).json(),E=M.getHours(),V=E>6&&E<20;return console.log(R),U[R][V?"day":"night"]}var o=I();o.__click=[Z,e];var m=s(o),L=s(m);t(m);var f=r(m,2),h=s(f),y=r(s(h),2),p=s(y,!0);t(y),t(h);var b=r(h,2),S=r(s(b),2),u=s(S);t(S),t(b);var _=r(b,2),a=r(s(_),2),d=s(a);t(a),t(_);var c=r(_,2),x=r(s(c),2),D=s(x);t(x),t(c);var W=r(c,2),O=r(s(W),2),K=s(O);t(O),t(W),t(f),t(o),F(R=>{Y(L,"src",i(l)),g(p,R),g(u,`${e.hourly.temperature_2m[e.index]??""} ${e.units.temperature_2m??""}`),g(d,`${e.hourly.relative_humidity_2m[e.index]??""} ${e.units.relative_humidity_2m??""}`),g(D,`${e.hourly.rain[e.index]??""} ${e.units.rain??""}`),g(K,`${e.hourly.wind_speed_10m[e.index]??""} ${e.units.wind_speed_10m??""}`)},[()=>new Date(e.hourly.time[e.index]).toLocaleDateString()]),J("keypress",o,()=>{}),k(v,o),A()}H(["click"]);var ee=j('<div class="bg-gray-50 p-4 border-2 border-gray-500 rounded-md max-w-95"><div class="flex justify-between max-w-full w-sm"><span>Aufgenommen am:</span> <p> </p></div> <div class="flex justify-between max-w-full w-sm"><span>Windrichtung:</span> <p> </p></div> <div class="flex justify-between max-w-full w-sm"><span>Regenmenge:</span> <p> </p></div></div>');function te(v,e){z(e,!0);function l(u,_){const a={eng:["north","northeast","east","southeast","south","southwest","west","northwest"],deu:["Norden","Nordosten","Osten","S체dosten","S체den","S체dwesten","Westen","Nordwesten"]};return u=u*8/360,u=Math.round(u,0),u=(u+8)%8,a[_][u]}var n=ee(),o=s(n),m=r(s(o),2),L=s(m,!0);t(m),t(o);var f=r(o,2),h=r(s(f),2),y=s(h,!0);t(h),t(f);var p=r(f,2),b=r(s(p),2),S=s(b);t(b),t(p),t(n),F((u,_)=>{g(L,u),g(y,_),g(S,`${e.selectedDay.rain_sum??""} ${e.selectedDay.rain_sum_unit??""}`)},[()=>new Date(e.selectedDay.time).toLocaleDateString(),()=>l(e.selectedDay.wind_direction,"deu")]),k(v,n),A()}var ae=(v,e)=>e.onclick(),ie=j('<button class="absolute top-1 right-2 text-red-500 hover:text-red-100 border-red-500 hover:border-red-400 hover:cursor-pointer pl-2 pr-2 bg-gray-300 border-2 rounded-md text-xl font-bold" aria-label="Close">&times;</button>');function se(v,e){z(e,!0);var l=ie();l.__click=[ae,e],k(v,l),A()}H(["click"]);var re=j('<div class="fixed inset-0 bg-gray-400/60 flex justify-center items-center z-40 min-h-screen"><div class="relative z-50 bg-gray-100 rounded-sm p-2.5 border-2 border-gray-500"><!> <div class="mt-10"><!></div></div></div>'),ne=j('<div class="flex flex-wrap gap-5 justify-center"></div>'),oe=j('<p class="text-red-600 font-semibold bg-red-100 px-3 py-2 rounded-md max-w-sm mx-auto text-center">Kein Ort Ausgew채hlt!</p>'),de=j("<!> <!>",1);function xe(v,e){z(e,!0);let l=C(void 0),n=C(void 0),o=C(!1),m=C(void 0),L=C(void 0);T(()=>{B.set(i(l))}),B.subscribe(a=>{w(l,a,!0)}),T(async()=>{i(l)&&w(n,await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${i(l).latitude}&longitude=${i(l).longitude}&forecast_days=3&hourly=weather_code,temperature_2m,relative_humidity_2m,rain,wind_speed_10m&daily=rain_sum,wind_direction_10m_dominant&timezone=Europe%2FBerlin`)).json(),!0)}),T(()=>{i(o)?document.addEventListener("mousedown",f):document.removeEventListener("mousedown",f)});function f(a){i(m)&&!i(m).contains(a.target)&&w(o,!1)}function h(a,d,c){return{rain_sum:a.rain_sum[c],time:a.time[c],wind_direction:a.wind_direction_10m_dominant[c],rain_sum_unit:d.rain_sum,time_unit:d.time,wind_direction_units:d.wind_direction_10m_dominant}}var y=de(),p=q(y);{var b=a=>{var d=re(),c=s(d),x=s(c);se(x,{onclick:()=>w(o,!1)});var D=r(x,2),W=s(D);te(W,{get selectedDay(){return i(L)}}),t(D),t(c),X(c,O=>w(m,O),()=>i(m)),t(d),k(a,d)};N(p,a=>{i(o)&&a(b)})}var S=r(p,2);{var u=a=>{var d=ne();P(d,21,()=>i(n).hourly.time.filter((c,x)=>x%24==0),Q,(c,x,D)=>{const W=G(()=>i(n).hourly.time.indexOf(i(x)));$(c,{get hourly(){return i(n).hourly},get daily(){return i(n).daily[D]},get index(){return i(W)},get units(){return i(n).hourly_units},get dailyunits(){return i(n).hourly_units},onclick:()=>{w(L,h(i(n).daily,i(n).daily_units,D),!0),w(o,!0)}})}),t(d),k(a,d)},_=a=>{var d=oe();k(a,d)};N(S,a=>{i(l)&&i(n)?a(u):a(_,!1)})}k(v,y),A()}export{xe as component};
